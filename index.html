<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Empour Pizza by Nearby Fresh</title>
<script src='index.js'></script>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<script src="https://www.w3schools.com/lib/w3.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amatic+SC:wght@700&display=swap">
<link rel="stylesheet" href="style.css">
<meta name="Description" CONTENT="Order Pizza Nearby & Always Fresh, Get Beer, Wine, Drinks and Signature Starters.">
<meta property="og:title" content="Empour Pizza, Brought to you by Nearby Fresh of Future Perfect Ent." />
<meta property="og:description" content="Order Pizza Nearby & Always Fresh, Get Beer, Wine, Drinks and Signature Starters." />
<meta property="og:image" content="https://empour.co/img_pizza.jpg" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-217937774-1">
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-217937774-1');
</script>
<!-- Global site tag (gtag.js) - Google Analytics>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TDLZL7FDSN"></script>
<script>
  let token = 'G-TDLZL7FDSN';
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', token);
</script-->
</head>
<body>
<!-- Start Content -->
<div id="home" class="w3-content">
<script>
  let id=[];
  let customer = {
    logs: parseFloat((1+Math.random())*1000000000).toPrecision(10),
    items: [],
    total: 0,
  }
    
  id.push(localStorage.getItem('id'));
  id.push(customer['logs']);
  localStorage.setItem('Added', 'No');
  localStorage.setItem('id',id);
  // tNavig

</script>

<!-- Navbar (Sits on top) -->
<div class="w3-top w3-bar w3-xlarge w3-black w3-opacity-min">
<a href="#home" class="w3-bar-item w3-button">HOME</a>
<a href="#menu" class="w3-bar-item w3-button">MENU</a>
<a href="#about" class="w3-bar-item w3-button">ABOUT</a>
<a href="#contact" class="w3-bar-item w3-button">CONTACT</a>
<a href="#cart" class="w3-bar-item w3-button">CART</a>
</div>
  
<!-- Header image -->
<div style="height:800px;background-image:url('img_pizza.jpg');background-size:cover"
class="w3-display-container w3-grayscale-min">
<div class="w3-display-bottomleft">
  <span class="w3-tag w3-xlarge">Open from 10am to 2am</span>
</div>
<div class="w3-display-middle w3-center">
  <span class="w3-text-white" style="font-size:100px">NEARBY FRESH PIZZA</span>
  <p><a href="#menu" class="w3-button w3-xxlarge w3-black">Let me see the menu</a></p>
</div>
</div>

<!-- Menu -->
<div id="menu" class="w3-container w3-black w3-xxlarge w3-padding-64">
<h1 class="w3-center w3-jumbo w3-padding-32">THE MENU</h1>
<div class="w3-row w3-center w3-border w3-border-dark-grey">
<a href="#pizza"><div class="w3-third w3-padding-large w3-red">Pizza</div></a>
<a href="#pasta"><div class="w3-third w3-padding-large w3-hover-red">Pasta</div></a>
<a href="#starters"><div class="w3-third w3-padding-large w3-hover-red">Starters</div></a>
<a href="#drinks"><div class="w3-third w3-padding-large w3-hover-red">Drinks</div></a>
</div>

<script>
  async function addedToCart() {}
  async function startAddedToCart() {
    addedToCart()
      .then(data=>data.JSON())
      .catch(e=>e)
  }
  
</script>

<!-- Ordering -->

<script>

  async function addToCart() {
    let item = new Object();
    item.name = localStorage.getItem('Name');
    item.size = localStorage.getItem('Pizza Size');
    item.price = localStorage.getItem('Price');
    
    customer.total += parseInt(item.price);
    customer.total *= 1.0725;
    customer.total += restaurant['Delivery']['Fee'];
    customer.items.push(item);

    localStorage.setItem('Customer', JSON.stringify(customer));
    localStorage.setItem('Added', 'Yes');

    closer();
    curCart();
    customerTot();
  }
  
  function customerTot() {
    document.querySelector('#totalPrice').innerHTML = parseInt(customer.total);
  }
  
  function curCart() {
    let cart = document.querySelector('#currentCart');
    let totalAmt = document.createElement('h2');
    totalAmt.innerHTML = customer.total;
    cart.innerHTML = null;
    console.log(customer.items);
    customer.items.map((item, idx)=>{
      cart.innerHTML += `<h2 id="ID_${idx}"><span onclick="removeItem(${idx})"> [ x ] </span> ${item.size} ${item.name} ${item.price}</h2></br />`;
    });

  }
  let cart = document.querySelector('#currentCart');
  function removeItem(index) {
    let idx = index - 1;
    let re = document.querySelector(`#ID_${index}`);
    let nxt = re.nextElementSibling;
    console.log(re + " " + nxt);
    [re,nxt].map(ele=>ele.remove());
    console.log("Removed");
    if (cart.innerHTML == '<br>') {
      cart.innerHTML = 'Orders and such...';
    }
    customer.total -= parseInt(customer.items[idx].price);
    customer.items.splice(customer.items[idx]);
    console.log(customer.items);
  }

  function closer() {
    const oGH = document.querySelector('#orderGoesHere');
    oGH.style.display = "none";
    itemVal("Choose Size");

    storeStuff('key', 'value');
  }


  function itemSize(pizzasize, price) {
    itemVal(pizzasize);
    storeStuff('Pizza Size',pizzasize);
    storeStuff('Price', price);
  }

  function storeStuff(key, value) {
    localStorage.setItem(key, value);
  }

  function unstoreStuff(name) {
    localStorage.removeItem(name);
  }

  function itemVal(ue) {
    let itemValue = document.querySelector('#itemValue');
    itemValue.innerHTML = ue;
  }

  function p(name, type, callback) {
    let t = restaurant['Options'][type];
    localStorage.setItem('Type', t);
    itemVal('Choose Size');
    let itemValue = document.querySelector('#itemValue');
    itemValue.innerHTML = "Choose Size";
    callback('Name', name);
    orderGoesHere.style.display = "block";

    let f1 = document.querySelector('#form1');
    let f3 = document.querySelector('#form3');
    let f4 = document.querySelector('#form4');
    let f5 = document.querySelector('#form5');
      
    let n = localStorage.getItem('Name');
    let r = restaurant;
    let p = r.Pizza['Names'];
    let a = r.Pasta['Names'];
    let s = r.Starters['Names'];
    let d = r.Drinks['Names'];
    if ( n == p[0] || n == p[1] || n == p[2] || n == p[3] || n == p[4]) {
      localStorage.setItem('selected', 'Pizza');
      f1.style.display = "block";
      f3.style.display = "none";
      f4.style.display = "none";
      f5.style.display = "none";
    } else if ( n == a[0] || n == a[1]) {
      localStorage.setItem('selected', 'Pasta');
      f1.style.display = "none";
      f3.style.display = "block";
      f4.style.display = "none";
      f5.style.display = "none";
    } else if ( n == s[0] || n == s[1]) {
      localStorage.setItem('selected', 'Starter');
      f1.style.display = "none";
      f3.style.display = "none";
      f4.style.display = "block";
      f5.style.display = "none";
    } else if ( n == d[0] || n == d[1] || n == d[2] || n == d[3]) {
      localStorage.setItem('selected', 'Drink');
      f1.style.display = "none";
      f3.style.display = "none";
      f4.style.display = "none";
      f5.style.display = "block";
    }
    let gid1 = document.querySelector('#g_id_onload');
    let gid2 = document.querySelector('#g_id_signin');
    let payment = document.querySelector('#container');
    // [gid1, gid2, payment].map(ins=>ins.style.display = "inline-block");
    payment.style.display = "block";
    gid1.style.display = "block";
    // gid2.style.display = "block";
  }
</script>

<div id='orderGoesHere' style="display:none"><!--id="myModal"-->
  <div class="modal-content">
    <div class="modal-header">
      <span class="close" style="padding-right:10%" onclick="closer()">Close &times;</span>
      <h2> Ordering </h2>
    </div>
    <div class="modal-body">
      <form id="form1" style="display:none">
        <input onclick="itemSize(this.value, this.dataset['strike'])" data-strike=8 data-item-type="Pizza" type="button" value="Personal"></input>
        <input onclick="itemSize(this.value, restaurant.Pizza['Price'][1])" data-strike="13" data-item-type="Pizza" type="button" value="Small"></input>
        <input onclick="itemSize(this.value, this.dataset['strike'])" data-strike="16" data-item-type="Pizza" type="button" value="Medium"></input>
        <input onclick="itemSize(this.value, this.dataset['strike'])" data-strike="23" data-item-type="Pizza" type="button" value="Large"></input>
        <input onclick="itemSize(this.value, this.dataset['strike'])" data-strike="27.5" data-item-type="Pizza" type="button" value="Extra-Large"></input>
      </form>
      <form id="form3" style="display:none">
        <input onclick="itemSize(this.value, this.dataset['strike'])" data-strike="12" data-item-type="Pasta" type="button" value="Meal"></input>
      </form>
      <form id="form4" style="display:none">
        <input onclick="itemSize(this.value, this.dataset['strike'])" data-strike="7" data-item-type="Starter" type="button" value="Personal"></input>
        <input onclick="itemSize(this.value, this.dataset['strike'])" data-strike="10.5" data-item-type="Starter" type="button" value="Family"></input>
      </form>
      <form id="form5" style="display:none">
        <input onclick="itemSize(this.value, this.dataset['strike'])" data-strike="2" data-item-type="Drinks" type="button" value="Small"></input>
        <input onclick="itemSize(this.value, this.dataset['strike'])" data-strike="2.5" data-item-type="Drinks" type="button" value="Medium"></input>
        <input onclick="itemSize(this.value, this.dataset['strike'])" data-strike="3" data-item-type="Drinks" type="button" value="Large"></input>
      </form>
      <h1 id="itemValue">Choose Size</h1>
    </div>
    <div class="modal-footer">
      <form id="form2">
        <input onclick="addToCart()" type="button" value="Add To Cart"></input>
      </form>
    </div>
  </div>

</div>

<div id="pizza" class="w3-container w3-white w3-padding-32">
<div onclick="p('Margherita', 1, storeStuff)">
<h1><b>Margherita</b> <span class="w3-right w3-tag w3-dark-grey w3-round">Choose</span></h1>
<p class="w3-text-grey">Fresh tomatoes, fresh mozzarella, fresh basil</p>
</div><hr>

<div onclick="p('Pepperoni', 1, storeStuff)">
<script> </script>
<h1><b>Pepperoni</b> <span class="w3-right w3-tag w3-dark-grey w3-round">Pick Me</span></h1>
<p class="w3-text-grey">Fresh tomatoe sauce, mozzarella, pepperoni's</p>
</div><hr>

<div onclick="p('Chicken', 1, storeStuff)">
<h1><b>Chicken</b> <span class="w3-right w3-tag w3-dark-grey w3-round">Me Next</span></h1>
<p class="w3-text-grey">Fresh tomatoes, mozzarella, chicken, onions</p>
</div><hr>

<div onclick="p('Pineapple\'o\'clock', 1, storeStuff)">
<h1><b>Pineapple'o'clock</b> <span class="w3-right w3-tag w3-dark-grey w3-round">One More</span></h1>
<p class="w3-text-grey">Fresh tomatoes, mozzarella, fresh pineapple, bacon, fresh basil</p>
</div><hr>

<div onclick="p('Meat Town', 1, storeStuff)">
<h1><b>Meat Town</b> <span class="w3-tag w3-red w3-round">Hot!</span><span class="w3-right w3-tag w3-dark-grey w3-round">Maybe Two</span></h1>
<p class="w3-text-grey">Fresh tomatoes, mozzarella, hot pepporoni, hot sausage, beef, chicken</p>
</div>
</div>

<h1 id="pasta" class="w3-center w3-jumbo w3-padding-32">PASTA</h1>
<div class="w3-container w3-white w3-padding-32">

<div onclick="p('Lasagna', 2, storeStuff)">
<h1><b>Lasagna</b> <span class="w3-tag w3-grey w3-round">Popular</span>
<span class="w3-right w3-tag w3-dark-grey w3-round">Click</span></h1>
<p class="w3-text-grey">Special sauce, mozzarella, parmesan, ground beef</p>
</div>
<hr>
<div onclick="p('Ravioli', 2, storeStuff)">
<h1><b>Ravioli</b> <span class="w3-right w3-tag w3-dark-grey w3-round">Click</span></h1>
<p class="w3-text-grey">Ravioli filled with cheese</p>
</div>
<hr>
<div onclick="p('Spaghetti Classica', 2, storeStuff)">
<h1><b>Spaghetti Classica</b> <span class="w3-right w3-tag w3-dark-grey w3-round">Boom!</span></h1>
<p class="w3-text-grey">Fresh tomatoes, onions, ground beef</p>
</div>
</div>

<h1 id="starters" class="w3-center w3-jumbo w3-padding-32">STARTERS</h1>
<div class="w3-container w3-white w3-padding-32">

<div onclick="p('Today\'s Soup', 3, storeStuff)">
<h1><b>Today's Soup</b> <span class="w3-tag w3-grey w3-round">Seasonal</span>
<span class="w3-right w3-tag w3-dark-grey w3-round">Simple</span></h1>
<p class="w3-text-grey">Ask the waiter</p>
</div>
<hr>
<div onclick="p('Bruschetta', 3, storeStuff)">
<h1><b>Bruschetta</b> <span class="w3-right w3-tag w3-dark-grey w3-round">Medium</span></h1>
<p class="w3-text-grey">Bread with pesto, tomatoes, onion, garlic</p>
</div>
<hr>
<div onclick="p('Garlic Bread', 3, storeStuff)">
<h1><b>Garlic Bread</b> <span class="w3-right w3-tag w3-dark-grey w3-round">Height</span></h1>
<p class="w3-text-grey">Grilled ciabatta, garlic butter, onions</p>
</div>
</div>

<h1 id="drinks" class="w3-center w3-jumbo w3-padding-32">DRINKS</h1>
<div class="w3-container w3-white w3-padding-32">

<div onclick="p('Coke', 4, storeStuff)">
<h1><b>Coke</b><span class="w3-right w3-tag w3-dark-grey w3-round">Good</span></h1>
<p class="w3-text-grey">Pizza and a Coke</p>
</div>
<hr>
<div onclick="p('Sprite', 4, storeStuff)">
<h1><b>Sprite</b> <span class="w3-right w3-tag w3-dark-grey w3-round">Better</span></h1>
<p class="w3-text-grey">Pizza and a Sprite</p>
</div>
<hr>
<div onclick="p('Beer', 4, storeStuff)">
<h1><b>Beer</b> <span class="w3-right w3-tag w3-dark-grey w3-round">Best</span></h1>
<p class="w3-text-grey">Pizza and a Beer</p>
</div>
<div onclick="p('Wine', 4, storeStuff)">
<h1><b>Wine</b> <span class="w3-right w3-tag w3-dark-grey w3-round">Bestest</span></h1>
<p class="w3-text-grey">Pizza and Wine?</p>
</div>
</div>

</div>

<!-- About -->
<div id="about" class="w3-container w3-red w3-grayscale w3-xlarge w3-padding-64">
<h1 class="w3-center w3-jumbo">About</h1>
<p>The Pizza Restaurant was founded in blabla by Mr. Italiano in lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
<p><strong>The Chef?</strong> Mr. Italiano himself<img src="/chef.png" style="width:150px" class="w3-circle w3-right" alt="Chef"></p>
<p>We are proud of our interiors.</p>
<p class="w3-padding-16 w3-stretch">
<img src="img_restaurant.jpg" style="width:100%" alt="Restaurant">
</p>
<h1><b>Opening Hours</b></h1>
<div class="w3-row">
<div class="w3-half"> <p>Mon & Tue  10am - 2am</p> <p>Wednesday 10am - 2am</p> <p>Thursday 10am - 2am</p> </div>
<div class="w3-half"> <p>Friday 10am - 2am</p> <p>Saturday 10am - 2am</p> <p>Sunday 10am - 2am</p> </div>
</div>    
</div>

<!-- Contact -->
<img id="contact" src="map.jpg" class="w3-image w3-greyscale" alt="Map" style="width:100%">
<div class="w3-container w3-blue-grey w3-grayscale-min w3-xlarge w3-padding-top-32">
<h1 class="w3-center w3-jumbo">Contact</h1>
<p>Find us in Chico for Delivery Only or call us at 530-566-2643</p>
<p>We offer full-service catering for any event, large or small. We understand your needs and we will cater the food to satisfy the biggerst criteria of them all, both look and taste.</p>
<p class="w3-xxlarge"><b>Reserve</b> a table, ask for today's special or just send us a message:</p>
<form action="/action_page.php" target="_blank">
<p><input class="w3-input w3-padding-16 w3-border" type="text" placeholder="Name" required name="Name"></p>
<p><input class="w3-input w3-padding-16 w3-border" type="number" placeholder="How many people" required name="People"></p>
<p><input class="date w3-input w3-padding-16 w3-border" type="datetime-local" placeholder="Date and time" required name="date"></p>
<p><input class="w3-input w3-padding-16 w3-border" type="text" placeholder="Message \ Special requirements" required name="Message"></p>
<p><button class="w3-button w3-light-grey w3-block" type="submit">SEND MESSAGE</button></p>
</form>

<p class="w3-center w3-xlarge w3-padding-32">Powered by <a href="https://www.zacscott.com" title="Future Perfect" target="_blank">Future Perfect</a></p>

</div>

<script async src="https://pay.google.com/gp/p/js/pay.js" onload="onGooglePayLoaded()"></script>
<script>

const baseRequest = {
  apiVersion: 2,
  apiVersionMinor: 0
};


const allowedCardNetworks = ["AMEX", "DISCOVER", "INTERAC", "JCB", "MASTERCARD", "VISA"];


const allowedCardAuthMethods = ["PAN_ONLY", "CRYPTOGRAM_3DS"];


const tokenizationSpecification = {
  type: 'PAYMENT_GATEWAY',
  parameters: {
    'gateway': 'example',
    'gatewayMerchantId': 'exampleGatewayMerchantId'
  }
};


const baseCardPaymentMethod = {
  type: 'CARD',
  parameters: {
    allowedAuthMethods: allowedCardAuthMethods,
    allowedCardNetworks: allowedCardNetworks
  }
};


const cardPaymentMethod = Object.assign(
  {},
  baseCardPaymentMethod,
  {
    tokenizationSpecification: tokenizationSpecification
  }
);


let paymentsClient = null;


function getGoogleIsReadyToPayRequest() {
  return Object.assign(
      {},
      baseRequest,
      {
        allowedPaymentMethods: [baseCardPaymentMethod]
      }
  );
}


function getGooglePaymentDataRequest() {
  const paymentDataRequest = Object.assign({}, baseRequest);
  paymentDataRequest.allowedPaymentMethods = [cardPaymentMethod];
  paymentDataRequest.transactionInfo = getGoogleTransactionInfo();
  paymentDataRequest.merchantInfo = {

    merchantName: 'Example Merchant'
  };
  return paymentDataRequest;
}


function getGooglePaymentsClient() {
  if ( paymentsClient === null ) {
    paymentsClient = new google.payments.api.PaymentsClient({environment: 'TEST'});
  }
  return paymentsClient;
}



function addGooglePayButton() {
  const paymentsClient = getGooglePaymentsClient();
  const button =
      paymentsClient.createButton({onClick: onGooglePaymentButtonClicked});
  document.getElementById('container').appendChild(button);
}


function getGoogleTransactionInfo() {
  return {
    countryCode: 'US',
    currencyCode: 'USD',
    totalPriceStatus: 'FINAL',
    // set to cart total
    totalPrice: parseInt(customer.total)
  };
}


function prefetchGooglePaymentData() {
  const paymentDataRequest = getGooglePaymentDataRequest();
  paymentDataRequest.transactionInfo = {
    totalPriceStatus: 'NOT_CURRENTLY_KNOWN',
    currencyCode: 'USD'
  };
  const paymentsClient = getGooglePaymentsClient();
  paymentsClient.prefetchPaymentData(paymentDataRequest);
}


function onGooglePaymentButtonClicked() {
  const paymentDataRequest = getGooglePaymentDataRequest();
  paymentDataRequest.transactionInfo = getGoogleTransactionInfo();

  const paymentsClient = getGooglePaymentsClient();
  paymentsClient.loadPaymentData(paymentDataRequest)
      .then(function(paymentData) {
        // handle the response
        processPayment(paymentData);
      })
      .catch(function(err) {
        // show error in developer console for debugging
        console.error(err);
      });
}

function processPayment(paymentData) {
    console.log(paymentData);
  paymentToken = paymentData.paymentMethodData.tokenizationData.token;
}
</script>

<!-- Cart -->
<img id="cart" src="cart.jpg" class="w3-image w3-greyscale" alt="Cart" style="width:100%">
<div class="w3-container w3-red w3-grayscale-min w3-xlarge w3-padding-top-32">
  <h1 class="w3-center w3-jumbo">Cart</h1>
  <p id="currentCart">Orders and such...</p>
  <h2 id="totalPrice"></h2>
  <div id="container" style="display:none"></div>
  <!-- Signin -->
      <div id="g_id_onload"
         data-client_id="86822582342-ohkbhad3csa8tsg85h9cp37fiu628u97.apps.googleusercontent.com"
         data-login_uri="https://empour.co/#cart"
         data-auto_prompt="false">
      </div>
      <div class="g_id_signin"
         data-type="standard"
         data-size="large"
         data-theme="outline"
         data-text="sign_in_with"
         data-shape="rectangular"
         data-logo_alignment="left">
      </div>
</div>

<!-- Payments -->
<script>

function onGooglePayLoaded() {
  const paymentsClient = getGooglePaymentsClient();
  paymentsClient.isReadyToPay(getGoogleIsReadyToPayRequest())
      .then(function(response) {
        if (response.result) {
          addGooglePayButton();
        }
      })
      .catch(function(err) {
        console.error("Error Error Error Error: " + err);
      });
}
</script>
  <!--
const baseRequest = { apiVersion: 2, apiVersionMinor: 0 };
const allowedCardNetworks = ["AMEX", "DISCOVER", "INTERAC", "JCB", "MASTERCARD", "VISA"];
const allowedCardAuthMethods = ["PAN_ONLY", "CRYPTOGRAM_3DS"];
const tokenizationSpecification = {
  type: 'PAYMENT_GATEWAY',
  parameters: {
    'gateway': 'example',
    'gatewayMerchantId': 'exampleGatewayMerchantId'
  }
};

const baseCardPaymentMethod = {
  type: 'CARD',
  parameters: {
    allowedAuthMethods: allowedCardAuthMethods,
    allowedCardNetworks: allowedCardNetworks
  }
};

const cardPaymentMethod = Object.assign(
  {},
  baseCardPaymentMethod,
  {
    tokenizationSpecification: tokenizationSpecification
  }
);

let paymentsClient = null;

function getGoogleIsReadyToPayRequest() {
  return Object.assign(
      {},
      baseRequest,
      {
        allowedPaymentMethods: [baseCardPaymentMethod]
      }
  );
}

function getGooglePaymentDataRequest() {
  const paymentDataRequest = Object.assign({}, baseRequest);
  paymentDataRequest.allowedPaymentMethods = [cardPaymentMethod];
  paymentDataRequest.transactionInfo = getGoogleTransactionInfo();
  paymentDataRequest.merchantInfo = {
    // merchantId: '12345678901234567890',
    merchantName: 'Empour Pizza'
  };
  return paymentDataRequest;
}

function getGooglePaymentsClient() {
  if ( paymentsClient === null ) {
    paymentsClient = new google.payments.api.PaymentsClient({environment: 'TEST'});
  }
  return paymentsClient;
}


function addGooglePayButton() {
  const paymentsClient = getGooglePaymentsClient();
  const button =
      paymentsClient.createButton({
        onClick: onGooglePaymentButtonClicked,
        allowedPaymentMethods: [baseCardPaymentMethod]
      });
  document.getElementById('container').appendChild(button);
}

function getGoogleTransactionInfo() {
  let v = 
  {
    countryCode: 'US',
    currencyCode: 'USD',
    totalPriceStatus: 'FINAL',
    totalPrice: customer.total
  };
  console.log(v);
  return v
}

function prefetchGooglePaymentData() {
  const paymentDataRequest = getGooglePaymentDataRequest();
  paymentDataRequest.transactionInfo = {
    totalPriceStatus: 'NOT_CURRENTLY_KNOWN',
    currencyCode: 'USD'
  };
  const paymentsClient = getGooglePaymentsClient();
  paymentsClient.prefetchPaymentData(paymentDataRequest);
}

function onGooglePaymentButtonClicked() {
  const paymentDataRequest = getGooglePaymentDataRequest();
  paymentDataRequest.transactionInfo = getGoogleTransactionInfo();

  const paymentsClient = getGooglePaymentsClient();
  paymentsClient.loadPaymentData(paymentDataRequest)
      .then(function(paymentData) {
        processPayment(paymentData);
      })
      .catch(function(err) {
        console.error(err);
      });
}
function processPayment(paymentData) {
    console.log(paymentData);
  paymentToken = paymentData.paymentMethodData.tokenizationData.token;
}</script>
<script async
  src="https://pay.google.com/gp/p/js/pay.js"
  onload="onGooglePayLoaded()"></script-->

<!-- End Content -->
</div>
</body>
</html>
